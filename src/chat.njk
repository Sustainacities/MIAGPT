{# This page is built with nunjucks! #}

{% set title = 'Hey Mia' %}
{% extends "chat-layout.njk" %}

{% block body %}
  <main class="">
    <div class="min-h-screen flex items-center justify-center">
    <div class="bg-white shadow-md rounded p-8 w-full max-w-7xl h-[80vh] flex flex-col">
      <h1 class="text-2xl font-bold mb-4 flex flex-row text-red-500"><img class="h-10" src="/assets/miablack.png" alt=""> Hey Mia! Will be online soon!</h1>
      <div class="flex flex-grow overflow-hidden">
        {# <div class="border border-gray-300 p-4 mr-4 w-1/3 h-full overflow-y-scroll">
          <!-- Sidebar chat history -->
        </div> #}
        <div class="border border-gray-300 p-4 flex-grow h-full overflow-y-scroll">
          <!-- Chat output area -->
          <div class="chat chat-start">
            <div class="chat-image avatar">
                <div class="w-10 rounded-full">
                <img src="/assets/miablack.png" />
                </div>
            </div>
            <div class="chat-header">
                Mia
                <time class="text-xs opacity-50">12:45</time>
            </div>
            <div class="chat-bubble">Hi! How can I help you?</div>
            <div class="chat-footer opacity-50">
                Delivered
            </div>
        </div>
            
        <div class="chat chat-end">
            <div class="chat-image avatar">
                <div class="w-10 rounded-full">
                <img src="/assets/anon.png" />
                </div>
            </div>
            <div class="chat-header">
                You
                <time class="text-xs opacity-50">12:46</time>
            </div>
            <div class="chat-bubble">Whats the weather like this week?</div>
            <div class="chat-footer opacity-50">
                {# Delivered at 12:46 #}
            </div>
        </div>

        <div class="chat chat-end">
            <div class="chat-image avatar">
                <div class="w-10 rounded-full">
                <img src="/assets/anon.png" />
                </div>
            </div>
            <div class="chat-header">
                You
                <time class="text-xs opacity-50">12:46</time>
            </div>
            <div class="chat-bubble">Whats the weather like this week?</div>
            <div class="chat-footer opacity-50">
                {# Delivered at 12:46 #}
            </div>
        </div>


        <div class="chat chat-end">
            <div class="chat-image avatar">
                <div class="w-10 rounded-full">
                <img src="/assets/anon.png" />
                </div>
            </div>
            <div class="chat-header">
                You
                <time class="text-xs opacity-50">12:46</time>
            </div>
            <div class="chat-bubble">Whats the weather like this week?</div>
            <div class="chat-footer opacity-50">
                {# Delivered at 12:46 #}
            </div>
        </div>

        <div class="chat chat-end">
            <div class="chat-image avatar">
                <div class="w-10 rounded-full">
                <img src="/assets/anon.png" />
                </div>
            </div>
            <div class="chat-header">
                You
                <time class="text-xs opacity-50">12:46</time>
            </div>
            <div class="chat-bubble">Whats the weather like this week?</div>
            <div class="chat-footer opacity-50">
                {# Delivered at 12:46 #}
            </div>
        </div>

        <div class="chat chat-end">
            <div class="chat-image avatar">
                <div class="w-10 rounded-full">
                <img src="/assets/anon.png" />
                </div>
            </div>
            <div class="chat-header">
                You
                <time class="text-xs opacity-50">12:46</time>
            </div>
            <div class="chat-bubble">Whats the weather like this week?</div>
            <div class="chat-footer opacity-50">
                {# Delivered at 12:46 #}
            </div>
        </div>


        </div>
      </div>
      <form action="/your-submit-endpoint" method="post" class="mt-4 flex items-center">
        <div class="mb-0 mr-4">
          <label for="dataset" class="block text-gray-700 text-sm font-bold mb-2">Dataset Category</label>
          <select id="dataset" name="dataset" class="daisyui-select w-full">
            <option value="category1">Category 1</option>
            <option value="category2">Category 2</option>
            <option value="category3">Category 3</option>
          </select>
        </div>
        <div class="mb-0 flex-grow">
          <input type="text" id="input" name="input" placeholder="Type your message here" required class="input input-bordered w-full">
        </div>
        <button class="btn btn-square" @click="buddy = null;fetch('/api/buddychat?msg='+msg)
            .then(response=> {
                if (!response.ok) console.log(`Something went wrong: ${response.status} - ${response.statusText}`)
                return response.json()
            })
            .then(data => {msg=null;buddy=data.response.text;console.log(data)})">
  <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
  <path stroke-linecap="round" stroke-linejoin="round" d="M6 12L3.269 3.126A59.768 59.768 0 0121.485 12 59.77 59.77 0 013.27 20.876L5.999 12zm0 0h7.5" />
</svg>
</button>
      </form>
    </div>
  </div>
  </main>
{% endblock %}
